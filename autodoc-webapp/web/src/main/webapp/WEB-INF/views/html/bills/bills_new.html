<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html"
      xmlns:th="http:/www.w3.org/1999/xhtml">


<div th:replace="fragments/header :: head1"></div>
<body>
<div class="container">
    <div th:replace="fragments/navbar :: navbar"></div>

    <div th:replace="fragments/menu :: menu"></div>

    <h3>New bill</h3>

    <form action="#" method="post" th:action="@{'/bills/new/'}" th:object="${billForm}">
        <div class="form-group">
            <label for="employeeLogin">Employee:</label>
            <input class="form-control" id="employeeLogin" name="employeeLogin" placeholder="Enter Employee Login"
                   required="required" th:value="${billForm.employeeLogin}" type="text"/>
            <div th:errors="*{employeeLogin}" th:if="${#fields.hasErrors('employeeLogin')}">Employee Error</div>
        </div>

        <div class="form-group">
            <label for="carRegistration">Registration:</label>
            <input class="form-control" id="carRegistration" name="carRegistration" placeholder="Enter Registration"
                   required="required" th:value="${billForm.carRegistration}" type="text"/>
            <div th:errors="*{carRegistration}" th:if="${#fields.hasErrors('carRegistration')}">Registration Error</div>
        </div>

        <div class="form-group">
            <div class='input-group date' id='datetime'>
                <input class="form-control" id="dateReparation" name="dateReparation" type="text"/>

            </div>
        </div>


        <div class="form-group">
            <label for="discount">Discount:</label>
            <input class="form-control" id="discount" name="discount" placeholder="Enter Discount" required="required"
                   type="text"/>
            <div th:errors="*{discount}" th:if="${#fields.hasErrors('discount')}">Discount Error</div>
        </div>

        <input required="required" th:field="*{vat}" type="hidden"/>
        <input required="required" th:field="*{status}" type="hidden"/>
        <input required="required" th:field="*{clientId}" type="hidden"/>

        <div th:each="task, stat : ${taskList}">
            <select th:name="|tasks.list[${stat.index}]|" th:value="${task}">
                <option value="">new Task</option>
                <option th:each="task : ${taskList}"
                        th:utext="${task.getName()}"
                        th:value="${task.getId()}"/>
            </select>
        </div>

        <button class="btn btn-primary" type="submit">Submit</button>

    </form>
    <script>
        var today = new Date();
        $("#dateReparation").datetimepicker({
            format: 'dd/mm/yyyy hh:MM',
            autoclose: true,
            todayBtn: true,
            startDate: today
        });
    </script>

</div>
</body>
</html>




